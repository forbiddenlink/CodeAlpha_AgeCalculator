(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();const U=6048e5,ne=864e5,ae=6e4,re=36e5,N=Symbol.for("constructDateFrom");function g(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&N in r?r[N](e):r instanceof Date?new r.constructor(e):new Date(e)}function m(r,e){return g(e||r,r)}function se(r,e,t){const n=m(r,t?.in);return isNaN(e)?g(r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Q(r,e,t){const n=m(r,t?.in);if(isNaN(e))return g(r,NaN);if(!e)return n;const a=n.getDate(),s=g(r,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return a>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function D(r,e,t){const{years:n=0,months:a=0,weeks:s=0,days:i=0,hours:o=0,minutes:c=0,seconds:d=0}=e,u=m(r,t?.in),l=a||n?Q(u,a+n*12):u,f=i||s?se(l,i+s*7):l,y=c+o*60,M=(d+y*60)*1e3;return g(r,+f+M)}let ie={};function A(){return ie}function x(r,e){const t=A(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=m(r,e?.in),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function L(r,e){return x(r,{...e,weekStartsOn:1})}function J(r,e){const t=m(r,e?.in),n=t.getFullYear(),a=g(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=L(a),i=g(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=L(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function q(r){const e=m(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function v(r,...e){const t=g.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function O(r,e){const t=m(r,e?.in);return t.setHours(0,0,0,0),t}function X(r,e,t){const[n,a]=v(t?.in,r,e),s=O(n),i=O(a),o=+s-q(s),c=+i-q(i);return Math.round((o-c)/ne)}function oe(r,e){const t=J(r,e),n=g(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),L(n)}function ce(r,e,t){return Q(r,e*12,t)}function T(r,e){const t=+m(r)-+m(e);return t<0?-1:t>0?1:t}function ue(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function le(r){return!(!ue(r)&&typeof r!="number"||isNaN(+m(r)))}function de(r,e,t){const[n,a]=v(t?.in,r,e),s=n.getFullYear()-a.getFullYear(),i=n.getMonth()-a.getMonth();return s*12+i}function he(r,e,t){const[n,a]=v(t?.in,r,e);return n.getFullYear()-a.getFullYear()}function C(r,e,t){const[n,a]=v(t?.in,r,e),s=$(n,a),i=Math.abs(X(n,a));n.setDate(n.getDate()-s*i);const o=+($(n,a)===-s),c=s*(i-o);return c===0?0:c}function $(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function W(r){return e=>{const n=(r?Math[r]:Math.trunc)(e);return n===0?0:n}}function me(r,e,t){const[n,a]=v(t?.in,r,e),s=(+n-+a)/re;return W(t?.roundingMethod)(s)}function K(r,e){return+m(r)-+m(e)}function fe(r,e,t){const n=K(r,e)/ae;return W(t?.roundingMethod)(n)}function ge(r,e){const t=m(r,e?.in);return t.setHours(23,59,59,999),t}function ye(r,e){const t=m(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function pe(r,e){const t=m(r,e?.in);return+ge(t,e)==+ye(t,e)}function be(r,e,t){const[n,a,s]=v(t?.in,r,r,e),i=T(a,s),o=Math.abs(de(a,s));if(o<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*o);let c=T(a,s)===-i;pe(n)&&o===1&&T(n,s)===1&&(c=!1);const d=i*(o-+c);return d===0?0:d}function we(r,e,t){const n=K(r,e)/1e3;return W(t?.roundingMethod)(n)}function ve(r,e,t){const[n,a]=v(t?.in,r,e),s=T(n,a),i=Math.abs(he(n,a));n.setFullYear(1584),a.setFullYear(1584);const o=T(n,a)===-s,c=s*(i-+o);return c===0?0:c}function Me(r,e){const[t,n]=v(r,e.start,e.end);return{start:t,end:n}}function Ee(r,e){const t=m(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Se={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ke=(r,e,t)=>{let n;const a=Se[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function F(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const De={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Te={date:F({formats:De,defaultWidth:"full"}),time:F({formats:Ie,defaultWidth:"full"}),dateTime:F({formats:Pe,defaultWidth:"full"})},xe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ce=(r,e,t,n)=>xe[r];function I(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const i=r.defaultFormattingWidth||r.defaultWidth,o=t?.width?String(t.width):i;a=r.formattingValues[o]||r.formattingValues[i]}else{const i=r.defaultWidth,o=t?.width?String(t.width):r.defaultWidth;a=r.values[o]||r.values[i]}const s=r.argumentCallback?r.argumentCallback(e):e;return a[s]}}const Le={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Be={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},We=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ne={ordinalNumber:We,era:I({values:Le,defaultWidth:"wide"}),quarter:I({values:Oe,defaultWidth:"wide",argumentCallback:r=>r-1}),month:I({values:Ae,defaultWidth:"wide"}),day:I({values:Fe,defaultWidth:"wide"}),dayPeriod:I({values:Be,defaultWidth:"wide",formattingValues:Ye,defaultFormattingWidth:"wide"})};function P(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],s=e.match(a);if(!s)return null;const i=s[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],c=Array.isArray(o)?$e(o,l=>l.test(i)):qe(o,l=>l.test(i));let d;d=r.valueCallback?r.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const u=e.slice(i.length);return{value:d,rest:u}}}function qe(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function $e(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function He(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],s=e.match(r.parsePattern);if(!s)return null;let i=r.valueCallback?r.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const o=e.slice(a.length);return{value:i,rest:o}}}const Re=/^(\d+)(th|st|nd|rd)?/i,_e=/\d+/i,je={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ve={any:[/^b/i,/^(a|c)/i]},ze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ge={any:[/1/i,/2/i,/3/i,/4/i]},Ue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Je={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},et={ordinalNumber:He({matchPattern:Re,parsePattern:_e,valueCallback:r=>parseInt(r,10)}),era:P({matchPatterns:je,defaultMatchWidth:"wide",parsePatterns:Ve,defaultParseWidth:"any"}),quarter:P({matchPatterns:ze,defaultMatchWidth:"wide",parsePatterns:Ge,defaultParseWidth:"any",valueCallback:r=>r+1}),month:P({matchPatterns:Ue,defaultMatchWidth:"wide",parsePatterns:Qe,defaultParseWidth:"any"}),day:P({matchPatterns:Je,defaultMatchWidth:"wide",parsePatterns:Xe,defaultParseWidth:"any"}),dayPeriod:P({matchPatterns:Ke,defaultMatchWidth:"any",parsePatterns:Ze,defaultParseWidth:"any"})},tt={code:"en-US",formatDistance:ke,formatLong:Te,formatRelative:Ce,localize:Ne,match:et,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nt(r,e){const t=m(r,e?.in);return X(t,Ee(t))+1}function at(r,e){const t=m(r,e?.in),n=+L(t)-+oe(t);return Math.round(n/U)+1}function Z(r,e){const t=m(r,e?.in),n=t.getFullYear(),a=A(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=g(e?.in||r,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const o=x(i,e),c=g(e?.in||r,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const d=x(c,e);return+t>=+o?n+1:+t>=+d?n:n-1}function rt(r,e){const t=A(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=Z(r,e),s=g(e?.in||r,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),x(s,e)}function st(r,e){const t=m(r,e?.in),n=+x(t,e)-+rt(t,e);return Math.round(n/U)+1}function h(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const p={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return h(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):h(t+1,2)},d(r,e){return h(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return h(r.getHours()%12||12,e.length)},H(r,e){return h(r.getHours(),e.length)},m(r,e){return h(r.getMinutes(),e.length)},s(r,e){return h(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return h(a,e.length)}},k={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},H={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return p.y(r,e)},Y:function(r,e,t,n){const a=Z(r,n),s=a>0?a:1-a;if(e==="YY"){const i=s%100;return h(i,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):h(s,e.length)},R:function(r,e){const t=J(r);return h(t,e.length)},u:function(r,e){const t=r.getFullYear();return h(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return h(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return h(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return p.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return h(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=st(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):h(a,e.length)},I:function(r,e,t){const n=at(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):h(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):p.d(r,e)},D:function(r,e,t){const n=nt(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):h(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return h(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return h(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return h(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=k.noon:n===0?a=k.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=k.evening:n>=12?a=k.afternoon:n>=4?a=k.morning:a=k.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return p.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):p.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):h(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):h(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):p.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):p.s(r,e)},S:function(r,e){return p.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return _(n);case"XXXX":case"XX":return E(n);case"XXXXX":case"XXX":default:return E(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return _(n);case"xxxx":case"xx":return E(n);case"xxxxx":case"xxx":default:return E(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+R(n,":");case"OOOO":default:return"GMT"+E(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+R(n,":");case"zzzz":default:return"GMT"+E(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return h(n,e.length)},T:function(r,e,t){return h(+r,e.length)}};function R(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+e+h(s,2)}function _(r,e){return r%60===0?(r>0?"-":"+")+h(Math.abs(r)/60,2):E(r,e)}function E(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=h(Math.trunc(n/60),2),s=h(n%60,2);return t+a+e+s}const j=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ee=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},it=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return j(r,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",j(n,e)).replace("{{time}}",ee(a,e))},ot={p:ee,P:it},ct=/^D+$/,ut=/^Y+$/,lt=["D","DD","YY","YYYY"];function dt(r){return ct.test(r)}function ht(r){return ut.test(r)}function mt(r,e,t){const n=ft(r,e,t);if(console.warn(n),lt.includes(r))throw new RangeError(n)}function ft(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const gt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pt=/^'([^]*?)'?$/,bt=/''/g,wt=/[a-zA-Z]/;function B(r,e,t){const n=A(),a=n.locale??tt,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=m(r,t?.in);if(!le(o))throw new RangeError("Invalid time value");let c=e.match(yt).map(u=>{const l=u[0];if(l==="p"||l==="P"){const f=ot[l];return f(u,a.formatLong)}return u}).join("").match(gt).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const l=u[0];if(l==="'")return{isToken:!1,value:vt(u)};if(H[l])return{isToken:!0,value:u};if(l.match(wt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const l=u.value;(ht(l)||dt(l))&&mt(l,e,String(r));const f=H[l[0]];return f(o,l,a.localize,d)}).join("")}function vt(r){const e=r.match(pt);return e?e[1].replace(bt,"'"):r}function Mt(r,e){const{start:t,end:n}=Me(e?.in,r),a={},s=ve(n,t);s&&(a.years=s);const i=D(t,{years:a.years}),o=be(n,i);o&&(a.months=o);const c=D(i,{months:a.months}),d=C(n,c);d&&(a.days=d);const u=D(c,{days:a.days}),l=me(n,u);l&&(a.hours=l);const f=D(u,{hours:a.hours}),y=fe(n,f);y&&(a.minutes=y);const S=D(f,{minutes:a.minutes}),M=we(n,S);return M&&(a.seconds=M),a}function V(r,e){return+m(r)<+m(e)}class Et{constructor(e,t,n){this.day=e,this.month=t,this.year=n,this.birthDate=new Date(n,t-1,e),this.today=new Date,this.planetData={mercury:{days:88,name:"Mercury"},venus:{days:225,name:"Venus"},mars:{days:687,name:"Mars"},jupiter:{days:4333,name:"Jupiter"},saturn:{days:10759,name:"Saturn"},uranus:{days:30687,name:"Uranus"},neptune:{days:60190,name:"Neptune"}}}static validateDate(e,t,n){const a=new Date,s=a.getFullYear();if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n))return"Please enter valid numbers for day, month, and year.";if(n<1900)return"Please enter a year after 1900 for accurate calculations.";if(n>s)return"Birth year cannot be in the future!";if(t<1||t>12)return"Please enter a valid month (1-12).";if(e<1)return"Please enter a valid day (1-31).";const i=new Date(n,t,0).getDate();if(e>i)return`${["","January","February","March","April","May","June","July","August","September","October","November","December"][t]} ${n} only has ${i} days.`;const o=new Date(n,t-1,e),c=O(a);return O(o)>c?"Birth date cannot be in the future!":s-n>150?"Please verify the birth year. Age cannot exceed 150 years.":null}calculate(){const e=new Date;if(V(e,this.birthDate))return{error:"Birth date cannot be in the future!"};const t=Mt({start:this.birthDate,end:e});return{years:typeof t.years=="number"?t.years:0,months:typeof t.months=="number"?t.months:0,days:typeof t.days=="number"?t.days:0}}calculatePlanetaryAges(){const e=C(this.today,this.birthDate),t={};return Object.entries(this.planetData).forEach(([n,a])=>{const s=(e/a.days).toFixed(2);t[n]={years:s,name:a.name}}),t}getPlanetaryAges(){const e=this.calculatePlanetaryAges();return Object.entries(e).map(([t,n])=>({planet:n.name,age:parseFloat(n.years),key:t}))}getNextMilestones(){const e=this.calculate(),t=this.daysUntilNextBirthday(),n=e.years,a=[];a.push({type:"birthday",age:n+1,days:t,description:`${n+1}th Birthday`});const s=Math.ceil((n+1)/10)*10;if(s!==n+1){const o=s-n,c=t+(o-1)*365;a.push({type:"decade",age:s,days:Math.round(c),description:`${s}th Birthday (Decade Milestone)`})}return[25,50,75,100].forEach(o=>{if(o>n){const c=o-n,d=t+(c-1)*365;a.push({type:"major",age:o,days:Math.round(d),description:`${o}th Birthday (Major Milestone)`})}}),a.slice(0,3)}daysUntilNextBirthday(){const e=new Date;let t=new Date(e.getFullYear(),this.month-1,this.day);return(V(t,e)||B(e,"MM-dd")===B(t,"MM-dd"))&&(t=ce(t,1)),C(t,e)}getBirthDayInfo(){return{dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.birthDate.getDay()],isWeekend:this.birthDate.getDay()===0||this.birthDate.getDay()===6,formatted:B(this.birthDate,"EEEE, MMMM do, yyyy")}}getHistoricalEvents(){return{2023:["ChatGPT reaches 100 million users","Turkey and Syria earthquakes"],2022:["Russia invades Ukraine","Queen Elizabeth II dies","FIFA World Cup in Qatar"],2021:["COVID-19 vaccines rolled out globally","Tokyo Olympics held","Taliban retakes Afghanistan"],2020:["COVID-19 pandemic begins","Black Lives Matter protests","US Presidential Election"],2019:["Notre-Dame fire","Hong Kong protests","Greta Thunberg climate activism"],2018:["Royal Wedding of Harry and Meghan","Winter Olympics in PyeongChang","Black Panther movie released"],2017:["Donald Trump becomes US President","Solar eclipse across US","Bitcoin reaches $20,000"],2016:["Brexit referendum","Rio Olympics","Pokemon Go released"],2015:["Paris attacks","Same-sex marriage legalized in US","Pluto flyby by New Horizons"],2014:["World Cup in Brazil","Ebola outbreak","Malaysia Airlines Flight 370 disappears"],2013:["Nelson Mandela dies","Edward Snowden NSA revelations","Pope Francis elected"],2012:["London Olympics","Hurricane Sandy","Gangnam Style goes viral"],2011:["Arab Spring begins","Japan earthquake and tsunami","Osama bin Laden killed"],2010:["Haiti earthquake","Winter Olympics in Vancouver","iPad released"],2009:["Barack Obama becomes US President","Michael Jackson dies","Swine flu pandemic"],2008:["Global financial crisis","Beijing Olympics","Barack Obama elected"],2007:["iPhone released","Virginia Tech shooting","Global recession begins"],2006:["Twitter launched","World Cup in Germany","Pluto reclassified as dwarf planet"],2005:["YouTube founded","Hurricane Katrina","London bombings"],2004:["Facebook founded","Indian Ocean tsunami","Athens Olympics"],2003:["Iraq War begins","SARS outbreak","Space Shuttle Columbia disaster"],2002:["Euro currency introduced","Winter Olympics in Salt Lake City","Brazil wins World Cup"],2001:["September 11 attacks","Wikipedia launched","iPod released"],2e3:["Y2K celebration","Sydney Olympics","Dot-com bubble"],1999:["Kosovo War","Columbine shooting","Matrix movie released"],1998:["Google founded","World Cup in France","Monica Lewinsky scandal"],1997:["Princess Diana dies","Hong Kong returned to China","Titanic movie released"],1996:["Atlanta Olympics","Mad Cow Disease outbreak","Dolly the sheep cloned"],1995:["Oklahoma City bombing","Windows 95 released","Internet becomes mainstream"],1994:["Nelson Mandela becomes South African President","World Cup in USA","Rwanda genocide"],1993:["World Trade Center bombing","Waco siege","Jurassic Park released"],1992:["Los Angeles riots","Barcelona Olympics","Cold War officially ends"],1991:["Gulf War","Soviet Union dissolves","World Wide Web invented"],1990:["German reunification","Nelson Mandela released","Hubble telescope launched"]}[this.year]||["No major events recorded for this year"]}getStats(){const e=new Date(this.year,this.month-1,this.day),n=C(new Date,e),a=n*24,s=Math.floor(n/7),i=a*60,o=i*60,c=Math.floor(o*1.2),d=Math.floor(i*16),u=this.daysUntilNextBirthday();return[{number:n.toLocaleString(),label:"Total Days",icon:"calendar"},{number:s.toLocaleString(),label:"Total Weeks",icon:"chart"},{number:a.toLocaleString(),label:"Total Hours",icon:"clock"},{number:c.toLocaleString(),label:"Heartbeats",icon:"heart"},{number:d.toLocaleString(),label:"Breaths Taken",icon:"wind"},{number:u,label:"Days to Birthday",icon:"cake"}]}getFunFacts(){const{years:e}=this.calculate(),t=new Date(this.year,this.month-1,this.day),n=this.getBirthDayInfo(),a=[];e<1?a.push("üçº You're still a baby! Welcome to the world!"):e<5?a.push("üß∏ You're in your early childhood years!"):e<13?a.push("üéà You're in your childhood! Enjoy these carefree years!"):e<20?a.push("üéµ You're a teenager! These are formative years!"):e<30?a.push("üåü You're in your twenties! The world is your oyster!"):e<40?a.push("üíº You're in your thirties! Peak of your career!"):e<50?a.push("üß† You're in your forties! Wisdom comes with age!"):e<60?a.push("‚ö° You're in your fifties! Experience is your superpower!"):e<70?a.push("üèÜ You're in your sixties! Golden years ahead!"):a.push("üëë You're a senior! Respect and wisdom!"),e%10===0&&e>0&&a.push(`üéâ Congratulations! You've reached ${e} years!`),a.push(`üìÖ You were born on a ${n.dayOfWeek}!`),n.isWeekend&&a.push("ÔøΩ Lucky you! You were born on a weekend!");const s=t.getMonth(),o=["‚ùÑÔ∏è Winter","üå∏ Spring","‚òÄÔ∏è Summer","üçÇ Autumn"][Math.floor(s/3)];a.push(`You were born in ${o}!`);const c=["Capricorn ‚ôë","Aquarius ‚ôí","Pisces ‚ôì","Aries ‚ôà","Taurus ‚ôâ","Gemini ‚ôä","Cancer ‚ôã","Leo ‚ôå","Virgo ‚ôç","Libra ‚ôé","Scorpio ‚ôè","Sagittarius ‚ôê"],d=(s+Math.floor(this.day/22))%12;a.push(`‚ú® Your zodiac sign is ${c[d]}!`);const u=this.daysUntilNextBirthday();return u===0?a.push("üéÇ Happy Birthday! Today is your special day!"):u<=30&&a.push(`üéÅ Your birthday is in ${u} days!`),a}}class St{constructor(){this.errorElement=document.getElementById("error-message"),this.resultsElement=document.getElementById("results"),this.statsContainer=document.getElementById("stats-grid"),this.funFactsContainer=document.getElementById("fun-facts")}showError(e){this.errorElement.textContent=e,this.errorElement.style.display="block",this.errorElement.setAttribute("aria-live","assertive"),this.errorElement.setAttribute("role","alert"),this.errorElement.tabIndex=-1,this.errorElement.focus(),this.errorElement.style.animation="none",setTimeout(()=>{this.errorElement.style.animation="shake 0.4s ease-in-out"},10)}hideError(){this.errorElement.style.display="none",this.errorElement.removeAttribute("aria-live"),this.errorElement.removeAttribute("role"),this.errorElement.removeAttribute("tabindex")}displayResults(e,t,n,a,s,i){this.animateNumber("years",e),this.animateNumber("months",t),this.animateNumber("days",n),this.generateStats(a),this.generateFunFacts(s),this.generatePlanetaryAges(i),this.generateMilestones(i),this.generateHistoricalEvents(i),this.generateBirthDayInfo(i),this.resultsElement.classList.add("show"),this.resultsElement.setAttribute("aria-live","polite"),this.resultsElement.setAttribute("role","region")}animateNumber(e,t){const n=document.getElementById(e),a=0,s=1200,i=performance.now();function o(c){const d=c-i,u=Math.min(d/s,1),l=1-Math.pow(1-u,4),f=Math.floor(a+(t-a)*l);n.textContent=f,u===1&&(n.style.transform="scale(1.1)",setTimeout(()=>{n.style.transform="scale(1)"},200)),u<1&&requestAnimationFrame(o)}requestAnimationFrame(o)}generateStats(e){this.statsContainer.innerHTML=e.map((t,n)=>`<div class="stat-card" data-icon="${t.icon}" style="animation-delay: ${n*.1}s">
        <span class="stat-icon">${this.getIconForStat(t.icon)}</span>
        <span class="stat-number">${t.number}</span>
        <div class="stat-label">${t.label}</div>
      </div>`).join("")}generatePlanetaryAges(e){const t=e.calculatePlanetaryAges(),n=document.createElement("div");n.className="planetary-ages-section",n.innerHTML=`
      <h3 class="section-title">ü™ê Your Age on Other Planets</h3>
      <div class="planetary-grid">
        ${Object.entries(t).map(([a,s],i)=>`
          <div class="planet-card" style="animation-delay: ${i*.1}s">
            <div class="planet-icon">${this.getPlanetIcon(a)}</div>
            <div class="planet-age">${s.years}</div>
            <div class="planet-name">${s.name}</div>
          </div>
        `).join("")}
      </div>
    `,this.funFactsContainer.appendChild(n)}generateMilestones(e){const t=e.getNextMilestones(),n=document.createElement("div");n.className="milestones-section",n.innerHTML=`
      <h3 class="section-title">üéØ Upcoming Milestones</h3>
      <div class="milestones-grid">
        ${t.map((a,s)=>`
          <div class="milestone-card ${a.type}" style="animation-delay: ${s*.1}s">
            <div class="milestone-icon">${this.getMilestoneIcon(a.type)}</div>
            <div class="milestone-age">${a.age}</div>
            <div class="milestone-days">${a.days} days</div>
            <div class="milestone-desc">${a.description}</div>
          </div>
        `).join("")}
      </div>
    `,this.funFactsContainer.appendChild(n)}generateHistoricalEvents(e){const t=e.getHistoricalEvents(),n=document.createElement("div");n.className="history-section",n.innerHTML=`
      <h3 class="section-title">üìú What Happened in ${e.year}</h3>
      <div class="history-grid">
        ${t.slice(0,3).map((a,s)=>`
          <div class="history-card" style="animation-delay: ${s*.15}s">
            <div class="history-icon">üìÖ</div>
            <div class="history-text">${a}</div>
          </div>
        `).join("")}
      </div>
    `,this.funFactsContainer.appendChild(n)}generateBirthDayInfo(e){const t=e.getBirthDayInfo(),n=document.createElement("div");n.className="birth-info-section",n.innerHTML=`
      <h3 class="section-title">üóìÔ∏è Birth Day Details</h3>
      <div class="birth-info-card">
        <div class="birth-date">
          <span class="birth-formatted">${t.formatted}</span>
          <span class="birth-weekend">${t.isWeekend?"üéâ Weekend Baby!":"üìö Weekday Born"}</span>
        </div>
      </div>
    `,this.funFactsContainer.appendChild(n)}generateFunFacts(e){const t=document.createElement("div");t.className="fun-facts-main",t.innerHTML=`
      <div class="fun-facts-title">üéØ Fun Facts About You</div>
      <div class="fun-facts-grid">
        ${e.map((n,a)=>`
          <div class="fun-fact" style="animation-delay: ${(a+1)*.1}s">${n}</div>
        `).join("")}
      </div>
    `,this.funFactsContainer.innerHTML="",this.funFactsContainer.appendChild(t)}getIconForStat(e){return{calendar:"üìÖ",chart:"üìä",clock:"‚è∞",heart:"‚ù§Ô∏è",wind:"üí®",cake:"üéÇ",timer:"‚è±Ô∏è"}[e]||"üìä"}getPlanetIcon(e){return{mercury:"‚òøÔ∏è",venus:"‚ôÄÔ∏è",mars:"‚ôÇÔ∏è",jupiter:"‚ôÉ",saturn:"‚ôÑ",uranus:"‚ôÖ",neptune:"‚ôÜ"}[e]||"ü™ê"}getMilestoneIcon(e){return{birthday:"üéÇ",decade:"üéä",major:"üèÜ"}[e]||"üéØ"}async generateShareableImage(){const e=document.getElementById("years").textContent,t=document.getElementById("months").textContent,n=document.getElementById("days").textContent,a=document.createElement("canvas"),s=a.getContext("2d");a.width=800,a.height=600;const i=s.createLinearGradient(0,0,a.width,a.height);return i.addColorStop(0,"#667eea"),i.addColorStop(1,"#764ba2"),s.fillStyle=i,s.fillRect(0,0,a.width,a.height),s.fillStyle="white",s.font="bold 48px Inter, Arial, sans-serif",s.textAlign="center",s.fillText("üéÇ My Age Calculator",a.width/2,100),s.font="bold 72px Inter, Arial, sans-serif",s.fillText(`${e} Years`,a.width/2,220),s.fillText(`${t} Months`,a.width/2,320),s.fillText(`${n} Days`,a.width/2,420),s.font="normal 24px Inter, Arial, sans-serif",s.fillText("Built by Elizabeth Stein",a.width/2,550),new Promise(o=>{a.toBlob(o,"image/png")})}}class kt{constructor(){this.isDarkMode=this.getInitialTheme(),this.themeToggle=document.querySelector(".theme-toggle"),this.themeIcon=document.getElementById("theme-icon"),this.initializeTheme(),this.setupEventListeners()}getInitialTheme(){const e=localStorage.getItem("darkMode");return e!==null?e==="true":!!(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)}initializeTheme(){const e=document.documentElement;this.isDarkMode?(document.body.classList.add("dark-mode"),e.classList.add("dark"),this.updateThemeIcon("‚òÄÔ∏è","Switch to light theme")):(document.body.classList.remove("dark-mode"),e.classList.remove("dark"),this.updateThemeIcon("üåô","Switch to dark theme"))}updateThemeIcon(e,t){this.themeIcon&&(this.themeIcon.textContent=e),this.themeToggle&&(this.themeToggle.setAttribute("aria-label",t),this.themeToggle.setAttribute("title",t))}setupEventListeners(){this.themeToggle&&this.themeToggle.addEventListener("click",()=>this.toggleTheme()),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem("darkMode")===null&&(this.isDarkMode=t.matches,this.applyTheme())}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&e.key==="d"&&(e.preventDefault(),this.toggleTheme())})}toggleTheme(){this.isDarkMode=!this.isDarkMode,this.applyTheme(),this.saveThemePreference(),this.announceThemeChange()}applyTheme(){const e=document.documentElement,t=document.body;t.style.transition="background 0.3s ease, color 0.3s ease",this.isDarkMode?(t.classList.add("dark-mode"),e.classList.add("dark"),this.updateThemeIcon("‚òÄÔ∏è","Switch to light theme")):(t.classList.remove("dark-mode"),e.classList.remove("dark"),this.updateThemeIcon("üåô","Switch to dark theme")),setTimeout(()=>{t.style.transition=""},300),this.updateThemeDependentElements()}updateThemeDependentElements(){const e=document.getElementById("locale-override");e&&(this.isDarkMode?(e.style.background="#1e293b",e.style.color="#f1f5f9",e.style.border="1.5px solid #475569"):(e.style.background="#f7fafc",e.style.color="#2d3748",e.style.border="1.5px solid #a0aec0")),document.querySelectorAll(".notification").forEach(n=>{this.isDarkMode?n.style.border="1px solid rgba(255, 255, 255, 0.1)":n.style.border="none"})}saveThemePreference(){localStorage.setItem("darkMode",this.isDarkMode.toString())}announceThemeChange(){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.style.position="absolute",e.style.left="-10000px",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.textContent=`Switched to ${this.isDarkMode?"dark":"light"} theme`,document.body.appendChild(e),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},1e3)}getCurrentTheme(){return this.isDarkMode?"dark":"light"}setTheme(e){(e==="dark"||e==="light")&&(this.isDarkMode=e==="dark",this.applyTheme(),this.saveThemePreference())}}class z{static handleError(e,t="Unknown"){console.error(`[${t}] Error:`,e);const n=this.getUserFriendlyMessage(e);return this.showErrorNotification(n),this.logError(e,t),n}static getUserFriendlyMessage(e){const t={TypeError:"Something went wrong with the calculation. Please try again.",RangeError:"Please enter a valid date within the supported range.",ValidationError:"Please check your input and try again.",NetworkError:"Please check your internet connection and try again."},n=e.constructor.name;return t[n]||"An unexpected error occurred. Please refresh the page and try again."}static showErrorNotification(e){const t=document.createElement("div");t.className="error-notification",t.innerHTML=`
      <div class="error-content">
        <span class="error-icon">‚ö†Ô∏è</span>
        <span class="error-message">${e}</span>
        <button class="error-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
      </div>
    `,Object.assign(t.style,{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(239, 68, 68, 0.3)",zIndex:"9999",maxWidth:"300px",animation:"slideInRight 0.3s ease"}),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&(t.style.animation="slideOutRight 0.3s ease",setTimeout(()=>t.remove(),300))},5e3)}static logError(e,t){new Date().toISOString(),e.message,e.stack}static createBoundaryWrapper(e,t){return async(...n)=>{try{return await e(...n)}catch(a){return this.handleError(a,t)}}}}const te=document.createElement("style");te.textContent=`
  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes slideOutRight {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(100%); opacity: 0; }
  }
  
  .error-notification .error-content {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  
  .error-notification .error-close {
    background: none;
    border: none;
    color: white;
    font-size: 18px;
    cursor: pointer;
    padding: 0;
    margin-left: auto;
  }
`;document.head.appendChild(te);class b{static sanitizeInput(e){return typeof e!="string"&&typeof e!="number"?"":String(e).replace(/[<>"/\\&]/g,"").trim()}static validateDateRange(e,t,n){const a=[],s=new Date().getFullYear(),i=new Date;if(e=parseInt(e),t=parseInt(t),n=parseInt(n),(!Number.isInteger(e)||e<1||e>31)&&a.push("Day must be a number between 1 and 31"),(!Number.isInteger(t)||t<1||t>12)&&a.push("Month must be a number between 1 and 12"),Number.isInteger(n)?n<1900?a.push("Year must be 1900 or later for accurate calculations"):n>s&&a.push("Birth year cannot be in the future"):a.push("Year must be a valid number"),a.length===0){const o=new Date(n,t,0).getDate();if(e>o){const d=["","January","February","March","April","May","June","July","August","September","October","November","December"];a.push(`${d[t]} ${n} only has ${o} days`)}new Date(n,t-1,e)>i&&a.push("Birth date cannot be in the future")}return a}static validateAge(e,t,n){const a=new Date(n,t-1,e),s=new Date,i=s.getFullYear()-n,o=[];return i>150&&o.push("Age cannot exceed 150 years. Please verify the birth year."),i<0&&o.push("Birth date cannot be in the future"),a>s&&o.push("Birth date cannot be in the future"),o}static validateDateString(e){if(!e)return["Date is required"];const t=new Date(e);return isNaN(t.getTime())?["Please enter a valid date"]:t>new Date?["Birth date cannot be in the future"]:t.getFullYear()<1900?["Year must be 1900 or later for accurate calculations"]:[]}static normalizeInput(e){return String(e).replace(/[^\d\-\/\.]/g,"")}static isValidDate(e,t,n){return this.validateDateRange(e,t,n).length===0}static createValidator(e){return{day:n=>{const a=parseInt(n);return n?isNaN(a)||a<1||a>31?{valid:!1,message:"Day must be between 1-31"}:{valid:!0,message:""}:{valid:!0,message:""}},month:n=>{const a=parseInt(n);return n?isNaN(a)||a<1||a>12?{valid:!1,message:"Month must be between 1-12"}:{valid:!0,message:""}:{valid:!0,message:""}},year:n=>{const a=parseInt(n);return n?isNaN(a)?{valid:!1,message:"Year must be a number"}:a<1900?{valid:!1,message:"Year must be 1900 or later"}:a>new Date().getFullYear()?{valid:!1,message:"Year cannot be in the future"}:{valid:!0,message:""}:{valid:!0,message:""}}}[e]||(()=>({valid:!0,message:""}))}}class Dt{constructor(){this.metrics={loadTime:0,firstContentfulPaint:0,largestContentfulPaint:0,cumulativeLayoutShift:0,firstInputDelay:0,calculations:0,averageCalculationTime:0},this.calculationTimes=[],this.init()}init(){this.observeWebVitals(),this.monitorPageLoad(),this.observeLongTasks()}observeWebVitals(){new PerformanceObserver(t=>{for(const n of t.getEntries())n.name==="first-contentful-paint"&&(this.metrics.firstContentfulPaint=n.startTime)}).observe({type:"paint",buffered:!0}),new PerformanceObserver(t=>{const n=t.getEntries(),a=n[n.length-1];this.metrics.largestContentfulPaint=a.startTime}).observe({type:"largest-contentful-paint",buffered:!0});let e=0;new PerformanceObserver(t=>{for(const n of t.getEntries())n.hadRecentInput||(e+=n.value);this.metrics.cumulativeLayoutShift=e}).observe({type:"layout-shift",buffered:!0}),new PerformanceObserver(t=>{for(const n of t.getEntries())this.metrics.firstInputDelay=n.processingStart-n.startTime}).observe({type:"first-input",buffered:!0})}monitorPageLoad(){window.addEventListener("load",()=>{const e=performance.getEntriesByType("navigation")[0];this.metrics.loadTime=e.loadEventEnd-e.fetchStart})}observeLongTasks(){new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>50&&console.warn(`Long task detected: ${t.duration}ms`)}).observe({type:"longtask",buffered:!0})}timeCalculation(e){return(...t)=>{const n=performance.now(),a=e(...t),i=performance.now()-n;return this.calculationTimes.push(i),this.metrics.calculations++,this.calculationTimes.length>100&&this.calculationTimes.shift(),this.metrics.averageCalculationTime=this.calculationTimes.reduce((o,c)=>o+c,0)/this.calculationTimes.length,i>10&&console.warn(`Slow calculation detected: ${i.toFixed(2)}ms`),a}}getReport(){return{...this.metrics,recommendations:this.getRecommendations(),timestamp:new Date().toISOString()}}getRecommendations(){const e=[];return this.metrics.firstContentfulPaint>2e3&&e.push("Consider optimizing CSS and JavaScript loading for faster FCP"),this.metrics.largestContentfulPaint>2500&&e.push("Optimize images and defer non-critical resources for better LCP"),this.metrics.cumulativeLayoutShift>.1&&e.push("Reduce layout shifts by adding size attributes to images and containers"),this.metrics.firstInputDelay>100&&e.push("Reduce JavaScript execution time to improve FID"),this.metrics.averageCalculationTime>5&&e.push("Optimize age calculation algorithms"),e}showDashboard(){}}const It=new Dt;class Pt{constructor(){this.preferences=this.loadPreferences(),this.initializePreferences()}getDefaultPreferences(){return{theme:"auto",inputMethod:"manual",dateFormat:"MM/DD/YYYY",language:navigator.language||"en",showNotifications:!0,showAnimations:typeof window<"u"&&window.matchMedia?!window.matchMedia("(prefers-reduced-motion: reduce)").matches:!0,autoCalculate:!1,showFunFacts:!0,showPlanetaryAges:!0,showStatistics:!0,rememberLastInput:!1,shareFormat:"text",accessibility:{announceResults:!0,focusManagement:!0,highContrast:!1},analytics:{allowTracking:!1,shareUsageData:!1}}}loadPreferences(){try{const e=localStorage.getItem("agecalc-preferences");if(e){const t=JSON.parse(e);return{...this.getDefaultPreferences(),...t}}}catch(e){console.warn("Failed to load preferences:",e)}return this.getDefaultPreferences()}savePreferences(){try{localStorage.setItem("agecalc-preferences",JSON.stringify(this.preferences)),this.triggerPreferencesChange()}catch(e){console.error("Failed to save preferences:",e)}}get(e){return this.preferences[e]}set(e,t){return this.preferences[e]=t,this.savePreferences(),this}update(e){return this.preferences={...this.preferences,...e},this.savePreferences(),this}reset(){return this.preferences=this.getDefaultPreferences(),this.savePreferences(),this}initializePreferences(){this.createSettingsPanel(),this.applyPreferences()}applyPreferences(){this.preferences.theme!=="auto"&&document.documentElement.setAttribute("data-theme",this.preferences.theme),this.preferences.showAnimations||(document.documentElement.style.setProperty("--transition-fast","0ms"),document.documentElement.style.setProperty("--transition","0ms"),document.documentElement.style.setProperty("--transition-slow","0ms")),this.preferences.accessibility.highContrast&&document.documentElement.classList.add("high-contrast");const e=document.querySelector(".toggle-group");e&&e.querySelectorAll(".toggle-btn").forEach(n=>{const a=n.textContent.toLowerCase().includes("manual"),s=a&&this.preferences.inputMethod==="manual"||!a&&this.preferences.inputMethod==="picker";n.classList.toggle("active",s)})}createSettingsPanel(){const e=document.createElement("button");e.innerHTML="‚öôÔ∏è",e.className="settings-button",e.title="Settings",e.setAttribute("aria-label","Open settings"),Object.assign(e.style,{position:"fixed",top:"20px",left:"20px",width:"44px",height:"44px",border:"none",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",color:"white",fontSize:"18px",cursor:"pointer",zIndex:"1000",transition:"all 0.2s ease"}),e.addEventListener("click",()=>this.showSettingsModal()),document.body.appendChild(e)}showSettingsModal(){const e=document.createElement("div");e.className="settings-modal",e.innerHTML=this.getSettingsHTML(),document.body.appendChild(e),this.setupSettingsEventListeners(e),e.addEventListener("click",n=>{n.target===e&&this.closeSettingsModal(e)});const t=n=>{n.key==="Escape"&&(this.closeSettingsModal(e),document.removeEventListener("keydown",t))};document.addEventListener("keydown",t)}getSettingsHTML(){return`
      <div class="settings-content">
        <div class="settings-header">
          <h2>Settings</h2>
          <button class="close-settings" aria-label="Close settings">√ó</button>
        </div>
        
        <div class="settings-section">
          <h3>Appearance</h3>
          
          <div class="setting-item">
            <label for="theme-select">Theme</label>
            <select id="theme-select">
              <option value="auto">Auto (System)</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="animations-toggle">
              <span class="checkmark"></span>
              <span>Enable animations</span>
            </label>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Functionality</h3>
          
          <div class="setting-item">
            <label for="input-method-select">Default Input Method</label>
            <select id="input-method-select">
              <option value="manual">Manual Entry</option>
              <option value="picker">Date Picker</option>
            </select>
          </div>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="auto-calculate-toggle">
              <span class="checkmark"></span>
              <span>Auto-calculate as I type</span>
            </label>
          </div>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="notifications-toggle">
              <span class="checkmark"></span>
              <span>Show notifications</span>
            </label>
          </div>
        </div>
        
        <div class="settings-section">
          <h3>Display Options</h3>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="fun-facts-toggle">
              <span class="checkmark"></span>
              <span>Show fun facts</span>
            </label>
          </div>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="planetary-ages-toggle">
              <span class="checkmark"></span>
              <span>Show planetary ages</span>
            </label>
          </div>
          
          <div class="setting-item">
            <label class="checkbox-label">
              <input type="checkbox" id="statistics-toggle">
              <span class="checkmark"></span>
              <span>Show detailed statistics</span>
            </label>
          </div>
        </div>
        
        <div class="settings-actions">
          <button class="reset-settings">Reset to Defaults</button>
          <button class="save-settings">Save Settings</button>
        </div>
      </div>
    `}setupSettingsEventListeners(e){e.querySelector("#theme-select").value=this.preferences.theme,e.querySelector("#animations-toggle").checked=this.preferences.showAnimations,e.querySelector("#input-method-select").value=this.preferences.inputMethod,e.querySelector("#auto-calculate-toggle").checked=this.preferences.autoCalculate,e.querySelector("#notifications-toggle").checked=this.preferences.showNotifications,e.querySelector("#fun-facts-toggle").checked=this.preferences.showFunFacts,e.querySelector("#planetary-ages-toggle").checked=this.preferences.showPlanetaryAges,e.querySelector("#statistics-toggle").checked=this.preferences.showStatistics,e.querySelector(".close-settings").addEventListener("click",()=>{this.closeSettingsModal(e)}),e.querySelector(".reset-settings").addEventListener("click",()=>{this.reset(),this.closeSettingsModal(e)}),e.querySelector(".save-settings").addEventListener("click",()=>{this.saveSettingsFromModal(e),this.closeSettingsModal(e)})}saveSettingsFromModal(e){this.preferences.theme=e.querySelector("#theme-select").value,this.preferences.showAnimations=e.querySelector("#animations-toggle").checked,this.preferences.inputMethod=e.querySelector("#input-method-select").value,this.preferences.autoCalculate=e.querySelector("#auto-calculate-toggle").checked,this.preferences.showNotifications=e.querySelector("#notifications-toggle").checked,this.preferences.showFunFacts=e.querySelector("#fun-facts-toggle").checked,this.preferences.showPlanetaryAges=e.querySelector("#planetary-ages-toggle").checked,this.preferences.showStatistics=e.querySelector("#statistics-toggle").checked,this.savePreferences(),this.applyPreferences()}closeSettingsModal(e){e.style.animation="fadeOut 0.3s ease",setTimeout(()=>{e.parentNode&&document.body.removeChild(e)},300)}triggerPreferencesChange(){window.dispatchEvent(new CustomEvent("preferencesChanged",{detail:this.preferences}))}exportPreferences(){const e={preferences:this.preferences,exportDate:new Date().toISOString(),version:"1.0"},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download="age-calculator-preferences.json",a.click(),URL.revokeObjectURL(n)}importPreferences(e){const t=new FileReader;t.onload=n=>{try{const a=JSON.parse(n.target.result);a.preferences&&(this.preferences={...this.getDefaultPreferences(),...a.preferences},this.savePreferences(),this.applyPreferences())}catch(a){console.error("Failed to import preferences:",a)}},t.readAsText(e)}}let Y=null;function Tt(){return Y||(Y=new Pt),Y}const G=Tt();class xt{constructor(){this.ageCalculator=null,this.uiManager=new St,this.themeManager=new kt,this.currentTab="input",this.initializeApp()}initializeApp(){z.createBoundaryWrapper(this._initializeApp.bind(this),"App Initialization")()}_initializeApp(){G.applyPreferences(),this.setupEventListeners(),this.initializeTabs(),this.setupKeyboardShortcuts(),this.setupExportFunctionality(),this.focusFirstInput(),this.setupEnhancedValidation(),this.setupEnhancedToggleGroup(),window.addEventListener("preferencesChanged",e=>{this.onPreferencesChanged(e.detail)})}setupEnhancedToggleGroup(){const e=document.querySelector(".toggle-group"),t=document.querySelectorAll(".toggle-btn");e&&t.length>0&&(e.setAttribute("data-active","1"),t.forEach((n,a)=>{n.addEventListener("click",()=>{e.setAttribute("data-active",(a+1).toString()),this.createRippleEffect(n)})}))}createRippleEffect(e){const t=document.createElement("span"),n=e.getBoundingClientRect(),a=Math.max(n.width,n.height);if(t.style.width=t.style.height=a+"px",t.style.left=n.width/2-a/2+"px",t.style.top=n.height/2-a/2+"px",t.classList.add("ripple"),t.style.position="absolute",t.style.borderRadius="50%",t.style.background="rgba(255, 255, 255, 0.3)",t.style.transform="scale(0)",t.style.animation="ripple 0.6s linear",t.style.pointerEvents="none",!document.querySelector("#ripple-styles")){const s=document.createElement("style");s.id="ripple-styles",s.textContent=`
        @keyframes ripple {
          to {
            transform: scale(2);
            opacity: 0;
          }
        }
      `,document.head.appendChild(s)}e.style.position="relative",e.style.overflow="hidden",e.appendChild(t),setTimeout(()=>{t.parentNode&&t.remove()},600)}setupEnhancedValidation(){const e=document.getElementById("day"),t=document.getElementById("month"),n=document.getElementById("year");if(e){const s=b.createValidator("day");e.addEventListener("input",i=>{const o=s(i.target.value);this.showFieldValidation(i.target,o)})}if(t){const s=b.createValidator("month");t.addEventListener("input",i=>{const o=s(i.target.value);this.showFieldValidation(i.target,o)})}if(n){const s=b.createValidator("year");n.addEventListener("input",i=>{const o=s(i.target.value);this.showFieldValidation(i.target,o)})}const a=document.getElementById("birthdate");a&&a.addEventListener("input",s=>{const i=b.validateDateString(s.target.value),o={valid:i.length===0,message:i.join(", ")};this.showFieldValidation(s.target,o)})}showFieldValidation(e,t){e.classList.remove("field-error","field-success");const n=e.parentNode.querySelector(".validation-message");if(n&&n.remove(),!!e.value){if(t.valid)e.classList.add("field-success");else if(e.classList.add("field-error"),t.message){const a=document.createElement("div");a.className="validation-message",a.textContent=t.message,a.style.cssText=`
          color: #ef4444;
          font-size: 12px;
          margin-top: 4px;
          font-weight: 500;
        `,e.parentNode.appendChild(a)}}}onPreferencesChanged(e){e.autoCalculate?this.setupAutoCalculation():this.removeAutoCalculation(),this.switchInputMethod(e.inputMethod),e.showAnimations?(document.documentElement.style.removeProperty("--transition-fast"),document.documentElement.style.removeProperty("--transition"),document.documentElement.style.removeProperty("--transition-slow")):(document.documentElement.style.setProperty("--transition-fast","0ms"),document.documentElement.style.setProperty("--transition","0ms"),document.documentElement.style.setProperty("--transition-slow","0ms"))}setupAutoCalculation(){document.querySelectorAll("#day, #month, #year, #birthdate").forEach(t=>{t.addEventListener("input",this.debounce(this.tryAutoCalculate.bind(this),1e3))})}removeAutoCalculation(){document.querySelectorAll("#day, #month, #year, #birthdate").forEach(t=>{t.removeEventListener("input",this.tryAutoCalculate)})}tryAutoCalculate(){const e=document.getElementById("manual-input"),t=e&&e.classList.contains("active");try{if(t){const n=parseInt(document.getElementById("day").value),a=parseInt(document.getElementById("month").value),s=parseInt(document.getElementById("year").value);n&&a&&s&&b.validateDateRange(n,a,s).length===0&&this.handleFormSubmit(new Event("submit"))}else{const n=document.getElementById("birthdate").value;n&&b.validateDateString(n).length===0&&this.handleFormSubmit(new Event("submit"))}}catch(n){console.debug("Auto-calculation failed:",n)}}debounce(e,t){let n;return function(...s){const i=()=>{clearTimeout(n),e(...s)};clearTimeout(n),n=setTimeout(i,t)}}setupEventListeners(){const e=document.getElementById("calculate-btn");e&&e.addEventListener("click",a=>this.handleFormSubmit(a)),document.querySelectorAll(".toggle-btn").forEach(a=>{a.addEventListener("click",s=>{const i=s.target.textContent.toLowerCase().includes("manual")?"manual":"picker";this.switchInputMethod(i)})}),this.setupBirthdateInput(),this.setupAgeInput();const n=document.getElementById("share-btn");n&&n.addEventListener("click",()=>this.copyToClipboard())}setupBirthdateInput(){const e=document.getElementById("birthdate");if(e){e.addEventListener("input",n=>{this.uiManager.hideError(),this.validateBirthdate(n.target.value)}),e.addEventListener("blur",n=>{this.validateBirthdate(n.target.value,!0)});const t=new Date().toISOString().split("T")[0];e.max=t}}setupAgeInput(){const e=document.getElementById("day"),t=document.getElementById("month"),n=document.getElementById("year");[e,t,n].forEach(a=>{a&&(a.addEventListener("input",()=>{this.uiManager.hideError()}),a.addEventListener("blur",()=>{this.validateCurrentInputs()}))})}setupKeyboardShortcuts(){document.addEventListener("keydown",e=>{if((e.ctrlKey||e.metaKey)&&e.key==="Enter"&&(e.preventDefault(),this.handleFormSubmit(e)),e.key==="Escape"&&this.clearForm(),e.key==="Tab"&&e.target.classList.contains("tab-button")){e.preventDefault();const t=Array.from(document.querySelectorAll(".tab-button")),n=t.indexOf(e.target),a=e.shiftKey?(n-1+t.length)%t.length:(n+1)%t.length;t[a].click(),t[a].focus()}})}setupExportFunctionality(){const e=document.getElementById("export-btn");e&&e.addEventListener("click",async()=>{try{const t=await this.uiManager.generateShareableImage(),n=URL.createObjectURL(t),a=document.createElement("a");a.href=n,a.download=`my-age-${new Date().getTime()}.png`,a.click(),URL.revokeObjectURL(n),this.showNotification("Image exported successfully! üì∏")}catch{this.showNotification("Export failed. Please try again.","error")}})}initializeTabs(){document.querySelectorAll(".tab-content").forEach(t=>{t.id!=="input-tab"&&(t.style.display="none")})}switchTab(e){if(e==="manual"||e==="picker"){document.querySelectorAll(".toggle-btn").forEach(i=>{i.classList.remove("active"),i.setAttribute("aria-selected","false")});const a=document.getElementById(`${e}-tab`);a&&(a.classList.add("active"),a.setAttribute("aria-selected","true")),document.querySelectorAll(".input-method").forEach(i=>{i.classList.remove("active"),i.setAttribute("aria-hidden","true")});const s=document.getElementById(`${e}-input`);s&&(s.classList.add("active"),s.setAttribute("aria-hidden","false")),this.currentTab=e,setTimeout(()=>{const i=s?.querySelector("input");i&&i.focus()},100);return}document.querySelectorAll(".tab-button").forEach(a=>{a.classList.remove("active"),a.setAttribute("aria-selected","false")});const t=document.querySelector(`[data-tab="${e}"]`);t&&(t.classList.add("active"),t.setAttribute("aria-selected","true")),document.querySelectorAll(".tab-content").forEach(a=>{a.style.display="none",a.setAttribute("aria-hidden","true")});const n=document.getElementById(`${e}-tab`);n&&(n.style.display="block",n.setAttribute("aria-hidden","false")),this.currentTab=e,setTimeout(()=>{const a=n?.querySelector("input, button");a&&a.focus()},100)}async handleFormSubmit(e){e.preventDefault(),this.uiManager.hideError(),await z.createBoundaryWrapper(this._performCalculation.bind(this),"Age Calculation")()}async _performCalculation(){let e;const t=document.getElementById("manual-input"),n=t&&t.classList.contains("active");if(n){const f=parseInt(document.getElementById("day").value)||0,y=parseInt(document.getElementById("month").value)||0,S=parseInt(document.getElementById("year").value)||0;if(!f||!y||!S)throw new Error("Please fill in all date fields.");const M=b.validateDateRange(f,y,S);if(M.length>0)throw new Error(M[0]);e=new Date(S,y-1,f)}else{const f=document.getElementById("birthdate").value;if(!f)throw new Error("Please enter your birth date.");const y=b.validateDateString(f);if(y.length>0)throw new Error(y[0]);e=new Date(f)}this.showLoadingState(),await new Promise(f=>setTimeout(f,500));let a,s,i;n?(a=parseInt(document.getElementById("day").value),s=parseInt(document.getElementById("month").value),i=parseInt(document.getElementById("year").value)):(a=e.getDate(),s=e.getMonth()+1,i=e.getFullYear()),this.ageCalculator=new Et(a,s,i);const c=It.timeCalculation(this.ageCalculator.calculate.bind(this.ageCalculator))(),d=this.ageCalculator.getStats(),u=this.ageCalculator.getFunFacts(),l=G.preferences;this.uiManager.displayResults(c.years,c.months,c.days,l.showStatistics?d:[],l.showFunFacts?u:[],this.ageCalculator,l),this.hideLoadingState(),l.showNotifications&&this.showNotification("Age calculated successfully! üéâ"),l.accessibility.announceResults&&this.announceResults(c)}showLoadingState(){const e=document.querySelector(".calculate-btn");e&&(e.disabled=!0,e.innerHTML='<span class="loading-spinner"></span> Calculating...')}hideLoadingState(){const e=document.querySelector(".calculate-btn");e&&(e.disabled=!1,e.innerHTML=`
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
        </svg>
        Calculate My Age
      `)}generateEnhancedStats(e){return[{icon:"calendar",number:e.totalDays.toLocaleString(),label:"Total Days Lived"},{icon:"clock",number:e.totalHours.toLocaleString(),label:"Total Hours"},{icon:"timer",number:e.totalMinutes.toLocaleString(),label:"Total Minutes"},{icon:"heart",number:e.heartbeats.toLocaleString(),label:"Heartbeats"},{icon:"wind",number:e.breaths.toLocaleString(),label:"Breaths Taken"},{icon:"cake",number:e.birthdaysPassed,label:"Birthdays Celebrated"}]}generateEnhancedFunFacts(e){return[`üåç You've experienced ${e.birthdaysPassed} trips around the sun!`,`‚è∞ You've lived through ${Math.floor(e.totalDays/7).toLocaleString()} weeks`,`üåô You've seen approximately ${Math.floor(e.totalDays/29.5).toLocaleString()} full moon cycles`,`üìö If you read for 1 hour daily, you've read for ${Math.floor(e.totalDays).toLocaleString()} hours!`,`üé¨ You could have watched ${Math.floor(e.totalHours/2).toLocaleString()} movies (2h each)`,`‚òï Enough time to drink ${Math.floor(e.totalDays*2).toLocaleString()} cups of coffee`].slice(0,4)}validateBirthdate(e,t=!1){return e?new Date(e)>new Date?(t&&this.uiManager.showError("Birth date cannot be in the future."),!1):!0:!1}validateAgeInputs(){const e=document.getElementById("age-years"),t=document.getElementById("age-months"),n=document.getElementById("age-days");if(!e||!t||!n)return!0;const a=parseInt(e.value)||0;return parseInt(t.value),parseInt(n.value),a>150?(this.uiManager.showError("Age seems unrealistic. Please check your input."),!1):!0}validateCurrentInputs(){const e=document.getElementById("day"),t=document.getElementById("month"),n=document.getElementById("year");if(e&&t&&n){const a=parseInt(e.value)||0,s=parseInt(t.value)||0,i=parseInt(n.value)||0;if(a&&s&&i&&n.value.length>=4){if(a<1||a>31)return this.uiManager.showError("Day must be between 1 and 31."),!1;if(s<1||s>12)return this.uiManager.showError("Month must be between 1 and 12."),!1;if(i<1900||i>new Date().getFullYear())return this.uiManager.showError("Please enter a valid year."),!1}}return!0}switchInputMethod(e){const t=document.getElementById("manual-input"),n=document.getElementById("picker-input"),a=document.querySelectorAll(".toggle-btn");e==="manual"?(t?.classList.add("active"),n?.classList.remove("active"),a[0]?.setAttribute("aria-selected","true"),a[1]?.setAttribute("aria-selected","false")):(t?.classList.remove("active"),n?.classList.add("active"),a[0]?.setAttribute("aria-selected","false"),a[1]?.setAttribute("aria-selected","true"))}clearForm(){["day","month","year","birthdate"].forEach(n=>{const a=document.getElementById(n);a&&(a.value="",a.classList.remove("field-error","field-success"))}),this.uiManager.hideError();const t=document.getElementById("results");t&&t.classList.remove("show"),this.focusFirstInput(),this.showNotification("Form cleared! ‚ú®")}focusFirstInput(){const e=document.querySelector('.tab-content:not([style*="none"]) input');e&&e.focus()}async copyToClipboard(){const e=document.getElementById("years")?.textContent||"0",t=document.getElementById("months")?.textContent||"0",n=document.getElementById("days")?.textContent||"0",a=`üéÇ I'm ${e} years, ${t} months, and ${n} days old! 
Calculated with Elizabeth Stein's Age Calculator ‚ú®`;try{await navigator.clipboard.writeText(a),this.showNotification("Copied to clipboard! üìã")}catch{const i=document.createElement("textarea");i.value=a,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i),this.showNotification("Copied to clipboard! üìã")}}showNotification(e,t="success"){const n=document.createElement("div");n.className=`notification notification-${t}`,n.textContent=e,n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),document.body.appendChild(n),setTimeout(()=>n.classList.add("show"),100),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>document.body.removeChild(n),300)},3e3)}announceResults(e){const t=`Age calculation complete. You are ${e.years} years, ${e.months} months, and ${e.days} days old.`,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.className="sr-only",n.textContent=t,document.body.appendChild(n),setTimeout(()=>document.body.removeChild(n),1e3)}}let w;document.addEventListener("DOMContentLoaded",()=>{w=new xt,window.ageCalculatorApp=w});window.calculateAge=function(){w&&w.handleFormSubmit(new Event("submit"))};window.shareResults=function(){w&&w.copyToClipboard()};window.switchInputMethod=function(r){w&&w.switchTab(r)};
